{#
    Synapse Admin - Layout Standalone
    
    Mode autonome avec sidebar et navigation complète.
    Utilisé quand le bundle fonctionne de manière indépendante.
    
    BLOCKS DISPONIBLES POUR SURCHARGE:
    
    - admin_meta: Balises meta HTML
    - admin_title: Titre de la page
    - admin_stylesheets: Styles CSS
    - admin_custom_styles: Styles custom du projet
    - admin_head_scripts: Scripts dans le <head>
    - admin_sidebar: Sidebar complète
    - admin_branding: Logo/nom du bundle
    - admin_navigation: Menu de navigation
    - admin_sidebar_footer: Footer de la sidebar
    - admin_flash_messages: Messages flash
    - admin_content: Contenu principal (à surcharger)
    - admin_body_scripts: Scripts en fin de body
#}
<!DOCTYPE html>
<html lang="fr" class="synapse-admin-root">
	<head>
		{% block admin_meta %}
			<meta charset="UTF-8">
			<meta name="viewport" content="width=device-width, initial-scale=1.0">
		{% endblock %}

		<title>
			{% block admin_title %}Synapse Admin
			{% endblock %}
		</title>

		{% block admin_stylesheets %}
			<link rel="stylesheet" href="{{ asset('synapse/styles/admin/synapse-variables.css') }}">
			<link rel="stylesheet" href="{{ asset('synapse/styles/admin/synapse-admin.css') }}">
			{% block admin_custom_styles %}{% endblock %}
		{% endblock %}

		{% block admin_head_scripts %}
			{# Lucide Icons - Local fallback recommandé #}
			<script src="https://unpkg.com/lucide@latest/dist/umd/lucide.min.js"></script>
		{% endblock %}
	</head>
	<body class="synapse-admin__layout">

		{% block admin_sidebar %}
			<aside class="synapse-admin__sidebar">
				{% block admin_branding %}
					<div class="synapse-admin__brand">
						<div class="synapse-admin__brand-icon">
							<i data-lucide="brain-circuit"></i>
						</div>
						Synapse
					</div>
				{% endblock %}

				{% block admin_navigation %}
					<nav>
						<ul class="synapse-admin__nav">
							<li class="synapse-admin__nav-item">
								<a href="{{ path('synapse_admin_dashboard') }}" class="{% if app.request.get('_route') == 'synapse_admin_dashboard' %}active{% endif %}">
									<i data-lucide="layout-dashboard"></i>
									Dashboard
								</a>
							</li>
							<li class="synapse-admin__nav-item">
								<a href="{{ path('synapse_admin_analytics') }}" class="{% if app.request.get('_route') == 'synapse_admin_analytics' %}active{% endif %}">
									<i data-lucide="bar-chart-2"></i>
									Analytics
								</a>
							</li>
							{% if synapse_config().riskDetectionEnabled %}
								<li class="synapse-admin__nav-item">
									<a href="{{ path('synapse_admin_risks') }}" class="{% if app.request.get('_route') starts with 'synapse_admin_risks' %}active{% endif %}">
										<i data-lucide="shield-alert"></i>
										Ange Gardien
										{% if kpis.risks_pending|default(0) > 0 %}
											<span class="synapse-admin__badge synapse-admin__badge--nav">{{ kpis.risks_pending }}</span>
										{% endif %}
									</a>
								</li>
							{% endif %}
							<li class="synapse-admin__nav-item">
								<a href="{{ path('synapse_admin_config') }}" class="{% if app.request.get('_route') == 'synapse_admin_config' %}active{% endif %}">
									<i data-lucide="settings"></i>
									Configuration
								</a>
							</li>
						</ul>
					</nav>
				{% endblock %}

				{% block admin_sidebar_footer %}
					<div class="synapse-admin__sidebar-footer">
						Synapse Bundle v2.0<br>
						Made with ❤️ by MakerLab
					</div>
				{% endblock %}
			</aside>
		{% endblock %}

		<main class="synapse-admin__main">
			{% block admin_flash_messages %}
				{% for message in app.flashes('success') %}
					<div class="synapse-admin__alert synapse-admin__alert--success">
						<i data-lucide="check-circle"></i>
						<div>{{ message }}</div>
					</div>
				{% endfor %}

				{% for message in app.flashes('error') %}
					<div class="synapse-admin__alert synapse-admin__alert--error">
						<i data-lucide="alert-circle"></i>
						<div>{{ message }}</div>
					</div>
				{% endfor %}
			{% endblock %}

			{% block admin_content %}{% endblock %}
		</main>

		{% block admin_body_scripts %}
			<script>
				if (typeof lucide !== 'undefined') {
lucide.createIcons();
}
			</script>
		{% endblock %}
	</body>
</html>
